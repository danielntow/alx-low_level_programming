CC = gcc
SRC = main.c schools.c  # List of .c files
OBJ = $(SRC:.c=.o)      # .o files derived from .c files
NAME = school           # Name of the executable

all: $(NAME)  # Default target 'all' depends on the executable 'school'

$(NAME): $(OBJ)
	$(CC) -o $@ $^ -Wall -Werror  # Compiles the executable using all .o files

%.o: %.c
	$(CC) -c $< -o $@ -Wall -Werror  # Compiles each .c file to .o file
